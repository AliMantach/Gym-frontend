<div class="contacts-container">
    <h2>Contacts</h2>
    <button (click)="logout()" class="btn btn-secondary">Logout</button>
    <button (click)="openNewContactForm()" class="btn btn-primary">Add Contact</button>
    
    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>
    
    <div *ngIf="isAddingNewContact" class="new-contact-form">
      <form (ngSubmit)="addContact()">
        <div class="form-group">
          <label for="name">Name</label>
          <input type="text" id="name" [(ngModel)]="newContact.name" name="name" required>
        </div>
        <div class="form-group">
          <label for="email">Email</label>
          <input type="email" id="email" [(ngModel)]="newContact.email" name="email" required>
        </div>
        <div class="form-group">
          <label for="phone">Phone</label>
          <input type="text" id="phone" [(ngModel)]="newContact.phone" name="phone" required>
        </div>
        <button type="submit" class="btn btn-primary">Add</button>
        <button type="button" class="btn btn-secondary" (click)="cancelNewContact()">Cancel</button>
      </form>
    </div>
    
    <ul>
      <li *ngFor="let contact of contacts">
        <div class="contact-info">
          <p><strong>Name:</strong> {{ contact.name }}</p>
          <p><strong>Email:</strong> {{ contact.email }}</p>
          <p><strong>Phone:</strong> {{ contact.phone }}</p>
          <button (click)="editContact(contact)" class="btn btn-secondary">Edit</button>
          <button (click)="deleteContact(contact._id)" class="btn btn-danger">Delete</button>
        </div>
        
        <div *ngIf="contact === editingContact" class="edit-contact-form">
          <form (ngSubmit)="updateContact(contact._id)">
            <div class="form-group">
              <label for="editName">Name</label>
              <input type="text" id="editName" [(ngModel)]="editingContact.name" name="editName" required>
            </div>
            <div class="form-group">
              <label for="editEmail">Email</label>
              <input type="email" id="editEmail" [(ngModel)]="editingContact.email" name="editEmail" required>
            </div>
            <div class="form-group">
              <label for="editPhone">Phone</label>
              <input type="text" id="editPhone" [(ngModel)]="editingContact.phone" name="editPhone" required>
            </div>
            <button type="submit" class="btn btn-primary">Update</button>
            <button type="button" class="btn btn-secondary" (click)="cancelEdit()">Cancel</button>
          </form>
        </div>
      </li>
    </ul>
  </div>
  
